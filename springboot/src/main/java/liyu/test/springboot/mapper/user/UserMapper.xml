<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="liyu.test.springboot.mapper.user.UserMapper">
    <resultMap type="liyu.test.springboot.model.User" id="User">
    	<id property="id" column="id"/>
    	<association property="role" column="role_id" 
    		select="liyu.test.springboot.mapper.role.RoleMapper.get">
    	</association>
    </resultMap>
    <select id="get" resultMap="User">
        select * from t_user where id=#{id}
    </select>
    
    <select id="find" resultType="liyu.test.springboot.model.User">
        select * from t_user where id=#{id}
    </select>
    <select id="findList" resultType="liyu.test.springboot.model.User">
    	select <include refid="liyu.test.springboot.mapper.BaseSql.user"/> 
    	from t_user <include refid="liyu.test.springboot.mapper.BaseSql.pageSql"/>
    </select>
    
    <insert id="insert">
    	insert into t_user (username,password,role_id) values(#{username},#{password},null)
    </insert>
</mapper>